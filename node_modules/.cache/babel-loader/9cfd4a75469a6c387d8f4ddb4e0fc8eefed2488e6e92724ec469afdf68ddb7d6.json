{"ast":null,"code":"import _objectSpread from\"C:/Users/Xiaom/wayUp/github/Movie/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect}from\"react\";import routeSearch from\"./routes\";import{getSearchFilms}from\"store/searchpage/selector\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import{loadSearchPage}from\"store/searchpage/actions\";import{useForm}from\"react-hook-form\";import NewsList from\"components/NewList\";import\"./styles.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SearchPage=function SearchPage(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var _useParams=useParams(),category=_useParams.category;var dispatch=useDispatch();var newsList=useSelector(getSearchFilms);var onSubmit=function onSubmit(category){dispatch(loadSearchPage(category.genres));};useEffect(function(){dispatch(loadSearchPage(category));},[dispatch,category]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container wrapsearch\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsxs(\"div\",{className:\" clearfon\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"searchcategory\",children:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"searchinput\"},register(\"genres\")),{},{type:\"text\",placeholder:\"example: car\"})),/*#__PURE__*/_jsx(\"div\",{className:\"searchresulttext\",children:\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430:\"}),newsList.length>1?/*#__PURE__*/_jsx(\"div\",{className:\"result-search-category\",children:newsList.length>0&&/*#__PURE__*/_jsx(NewsList,{list:newsList.slice(0,4)})}):/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"search-text\",children:[\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0438\\u0441\\u043A\\u043E\\u0432\\u044B\\u0439 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0434\\u043B\\u044F \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u043E\\u0432\"]}),\" \"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"newcategory\"})]});};export{routeSearch};export default SearchPage;","map":{"version":3,"names":["useEffect","routeSearch","getSearchFilms","useDispatch","useSelector","useParams","loadSearchPage","useForm","NewsList","SearchPage","register","handleSubmit","category","dispatch","newsList","onSubmit","genres","length","slice"],"sources":["C:/Users/Xiaom/wayUp/github/Movie/src/pages/SearchPage/index.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport routeSearch from \"./routes\";\r\nimport { getSearchFilms } from \"store/searchpage/selector\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { TypedDispatch } from \"../../store\";\r\nimport { ICategory } from \"types/ICategory\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { IDeteil } from \"types/IDeteil\";\r\nimport { loadSearchPage } from \"store/searchpage/actions\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { SubmitHandler } from \"react-hook-form/dist/types\";\r\n\r\nimport NewsList from \"components/NewList\";\r\nimport \"./styles.scss\";\r\n\r\nconst SearchPage = () => {\r\n  const { register, handleSubmit } = useForm<IDeteil>();\r\n  const { category } = useParams<ICategory>();\r\n  const dispatch = useDispatch<TypedDispatch>();\r\n  const newsList = useSelector(getSearchFilms);\r\n\r\n  const onSubmit: SubmitHandler<IDeteil> = (category) => {\r\n    dispatch(loadSearchPage(category.genres));\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(loadSearchPage(category));\r\n  }, [dispatch, category]);\r\n\r\n  return (\r\n    <div className=\"container wrapsearch\">\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\" clearfon\">\r\n          <div className=\"searchcategory\">Поиск по названию</div>\r\n          <input\r\n            className=\"searchinput\"\r\n            {...register(\"genres\")}\r\n            type=\"text\"\r\n            placeholder=\"example: car\"\r\n          />\r\n               <div className=\"searchresulttext\">Результаты поиска:</div>\r\n\r\n          {newsList.length > 1 ? (\r\n            <div className=\"result-search-category\">\r\n              {newsList.length > 0 && <NewsList list={newsList.slice(0, 4)} />}\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {\" \"}\r\n              <div className=\"search-text\">\r\n                Введите поисковый запрос<br/>для отображения результатов\r\n              </div>{\" \"}\r\n            </>\r\n          )}\r\n        </div>\r\n      </form>\r\n      <div className=\"newcategory\">{}</div>\r\n    </div>\r\n  );\r\n};\r\nexport { routeSearch };\r\nexport default SearchPage;\r\n"],"mappings":"sHAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,MAAOC,YAAW,KAAM,UAAU,CAClC,OAASC,cAAc,KAAQ,2BAA2B,CAC1D,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAGtD,OAASC,SAAS,KAAQ,kBAAkB,CAE5C,OAASC,cAAc,KAAQ,0BAA0B,CACzD,OAASC,OAAO,KAAQ,iBAAiB,CAGzC,MAAOC,SAAQ,KAAM,oBAAoB,CACzC,MAAO,eAAe,CAAC,6IAEvB,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvB,aAAmCF,OAAO,EAAW,CAA7CG,QAAQ,UAARA,QAAQ,CAAEC,YAAY,UAAZA,YAAY,CAC9B,eAAqBN,SAAS,EAAa,CAAnCO,QAAQ,YAARA,QAAQ,CAChB,GAAMC,SAAQ,CAAGV,WAAW,EAAiB,CAC7C,GAAMW,SAAQ,CAAGV,WAAW,CAACF,cAAc,CAAC,CAE5C,GAAMa,SAAgC,CAAG,QAAnCA,SAAgC,CAAIH,QAAQ,CAAK,CACrDC,QAAQ,CAACP,cAAc,CAACM,QAAQ,CAACI,MAAM,CAAC,CAAC,CAC3C,CAAC,CAEDhB,SAAS,CAAC,UAAM,CACda,QAAQ,CAACP,cAAc,CAACM,QAAQ,CAAC,CAAC,CACpC,CAAC,CAAE,CAACC,QAAQ,CAAED,QAAQ,CAAC,CAAC,CAExB,mBACE,aAAK,SAAS,CAAC,sBAAsB,wBACnC,aAAM,QAAQ,CAAED,YAAY,CAACI,QAAQ,CAAE,uBACrC,aAAK,SAAS,CAAC,WAAW,wBACxB,YAAK,SAAS,CAAC,gBAAgB,0GAAwB,cACvD,0CACE,SAAS,CAAC,aAAa,EACnBL,QAAQ,CAAC,QAAQ,CAAC,MACtB,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,cAAc,GAC1B,cACG,YAAK,SAAS,CAAC,kBAAkB,gHAAyB,CAE9DI,QAAQ,CAACG,MAAM,CAAG,CAAC,cAClB,YAAK,SAAS,CAAC,wBAAwB,UACpCH,QAAQ,CAACG,MAAM,CAAG,CAAC,eAAI,KAAC,QAAQ,EAAC,IAAI,CAAEH,QAAQ,CAACI,KAAK,CAAC,CAAC,CAAE,CAAC,CAAE,EAAG,EAC5D,cAEN,2BACG,GAAG,cACJ,aAAK,SAAS,CAAC,aAAa,iKACF,aAAK,8JACzB,CAAC,GAAG,GAEb,GACG,EACD,cACP,YAAK,SAAS,CAAC,aAAa,EAAS,GACjC,CAEV,CAAC,CACD,OAASjB,WAAW,EACpB,cAAeQ,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}